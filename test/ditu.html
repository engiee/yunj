<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
  <title>Radar chart</title>
    <script src="js/jquery-2.1.4.min.js"></script>
    <script src="js/d3.min.js"></script>
    <script src='js/map.js'></script>
    <script src="js/heatmap.js"></script>
    <style type="text/css">
    
#stats {
  position: absolute;
  right: 10px;
  top: 10px;
}
    </style>
  </head>
  <body style='margin:0;'>
   <button value="开始" onclick="doStart()">开始</button>
	<div id="chart" style='width:30%;height:500px;'>
    <canvas id="chartHeatCanvas" style="position: absolute;pointer-events:none;width:612px;height:500px;"></canvas>
    <canvas id="chartCanvas" style="position: absolute;pointer-events:none;"></canvas>
    </div>
	<script  type="text/javascript" >
        var jwd =  [[121.4648,31.2891],
            [113.8953,22.901],
            [118.7073,37.5513],
            [113.4229,22.478],
            [111.4783,36.1615],
            [118.3118,35.2936],
            [124.541,40.4242],
            [119.5642,28.1854],
            [87.9236,43.5883],
            [112.8955,23.1097],
            [115.0488,39.0948],
            [103.5901,36.3043],
            [110.3467,41.4899],
            [116.4551,40.2539],
            [109.314,21.6211],
            [118.8062,31.9208],
            [108.479,23.1152],
            [116.0046,28.6633],
            [121.1023,32.1625],
            [118.1689,24.6478],
            [121.1353,28.6688],
            [117.29,32.0581],
            [111.4124,40.4901],
            [108.4131,34.8706],
            [127.9688,45.368],
            [118.4766,39.6826],
            [120.9155,30.6354],
            [113.7854,39.8035],
            [122.2229,39.4409],
            [117.4219,39.4189],
            [112.3352,37.9413],
            [121.9482,37.1393],
            [121.5967,29.6466],
            [107.1826,34.3433],
            [118.5535,33.7775],
            [119.4543,31.5582],
            [113.5107,23.2196],
            [116.521,39.0509],
            [109.1052,36.4252],
            [115.1477,40.8527],
            [117.5208,34.3268],
            [116.6858,37.2107],
            [114.6204,23.1647],
            [103.9526,30.7617],
            [119.4653,32.8162],
            [117.5757,41.4075],
            [91.1865,30.1465],
            [120.3442,31.5527],
            [119.2786,35.5023],
            [102.9199,25.4663],
            [119.5313,29.8773],
            [117.323,34.8926],
            [109.3799,24.9774],
            [113.5327,27.0319],
            [114.3896,30.6628],
            [117.1692,23.3405],
            [112.6318,22.1484],
            [123.1238,42.1216],
            [116.8286,38.2104],
            [114.917,23.9722],
            [118.3228,25.1147],
            [117.0264,36.0516],
            [120.0586,32.5525],
            [117.1582,36.8701],
            [116.8286,35.3375],
            [110.3893,19.8516],
            [118.0371,36.6064],
            [118.927,33.4039],
            [114.5435,22.5439],
            [112.9175,24.3292],
            [120.498,27.8119],
            [109.7864,35.0299],
            [119.8608,30.7782],
            [112.5439,27.7075],
            [117.8174,37.4963],
            [119.0918,36.524],
            [120.7397,37.5128],
            [101.9312,23.8898],
            [113.7305,22.1155],
            [120.2234,33.5577],
            [121.9482,41.0449],
            [114.4995,38.1006],
            [119.4543,25.9222],
            [119.2126,40.0232],
            [120.564,29.7565],
            [115.9167,36.4032],
            [112.1265,23.5822],
            [122.2559,30.2234],
            [120.6519,31.3989],
            [117.6526,36.2714],
            [115.6201,35.2057],
            [122.4316,40.4297],
            [120.1575,40.578],
            [115.8838,37.7161],
            [118.6853,28.8666],
            [101.4038,36.8207],
            [109.1162,34.2004],
            [106.6992,26.7682],
            [119.1248,34.552],
            [114.8071,37.2821],
            [114.4775,36.535],
            [113.4668,34.6234],
            [108.9734,39.2487],
            [107.7539,30.1904],
            [120.0037,29.1028],
            [109.0393,35.1947],
            [106.3586,38.1775],
            [119.4763,31.9702],
            [125.8154,44.2584],
            [113.0823,28.2568],
            [112.8625,36.4746],
            [113.4778,38.0951],
            [120.4651,36.3373],
            [113.7964,24.7028]
]
var option = {
	id : "chart",
	geoJsonFile : "geo-json-file/china.json",
	start : test,
	showContent : true,//是否显示详情
    //cp :[120.498,29.0918],// 地图中心点
    //size : 3700,// 地图比例大小
	showContentNum : 3,//显示个数
	boundaryColor : "#416cd4",// 边界线颜色
	areaContentFontColor : "#000",
	backgroundColor : "#2752ba",// 背景色
	contentChangeTime : 1000,//详情更换时间间隔
	contentBackgroudColor : "rgba(0,0,0,0.6)",
	showContentType : "start",
	content : "%{data.color}",
	areaBackgroundColorGradient : true,//颜色范围
	areaCountRange : [0,10000]
}
var flyline = flylineMap(option);
var points = [];
function doStart(){
	for(var i = 0; i < jwd.length; i++){
	    var val = Math.floor(Math.random()*100000000);
		var point = {
		        center_lon: jwd[i][0],
		        center_lat: jwd[i][1],
		        heatmap_value: val
		    };
	    points.push(point);
	}
	flyline.setHeatmapData(points);
}
function test(d){
}
	</script>

  </body>
</html>